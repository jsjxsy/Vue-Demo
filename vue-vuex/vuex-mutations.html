<!DOCTYPE html>
<html>
    <head>
        <title>My first Vue app</title>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <script src="https://unpkg.com/vuex"></script>
    </head>
    <body>
        <div id="app">
          <p>{{ count }}</p>
          <p>
            <button @click="increment">+</button>
            <button @click="decrement">-</button>
          </p>
        </div>
    </body>
    <script>
        // make sure to call Vue.use(Vuex) if using a module system
        const store = new Vuex.Store({
          // 单一状态树
          state: {
            count: 0
          },
          mutations: {
            increment: state => state.count++,
            decrement: state => state.count--
          }
        })

        new Vue({
          el: '#app',
          computed: {
            count () {
                return store.state.count
            }
          },
          methods: {
            increment () {
              store.commit('increment')
            },
            decrement () {
                store.commit('decrement')
            }
          }
        })
    </script>
</html>
